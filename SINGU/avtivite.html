<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css">
    <link rel="stylesheet" href="./active.css">
    <title>sing up</title>
</head>
<body>
  <!-- <center>
    <div class="">
        <h1 id='status'>sing up</h1>
        <input type="text" id="username" name="username" placeholder="username" />
        <input type="text" id="email" name="email" placeholder="E-mail" />
        <input type="password" id="password" name="password" placeholder="Password" />
        
       <a href="./login.html"> <input  type="submit" id='sighUp' name="singnup_submit" value="sing up" /></a> 
    
       
      </div> 
    </center> -->


    <div class="form">

      <!-- <ul class="tab-group">
        <li class="tab active"><a href="#signup">Sign Up</a></li>
        <li class="tab"><a href="#login">Log In</a></li>
      </ul> -->
  
      
        <div id="signup">
          <h1> sing up</h1>
  
          
  
            <div class="top-row">
              <div class="field-wrap">
                
                <input type="text" required autocomplete="on" placeholder="Prenom&Nom" id="username" name="username"  />
              </div>
  
              <div class="field-wrap">
                     <select id='status' name="status">
                  
                          <optgroup  ><p>Status</p> </optgroup>
                             <option value="user" name="user" id="admin" >user</option>
                  <option value="admin" name="admin" id="admin" >Admin</option>
                  
                </select>
                <!-- <input type="text" required autocomplete="off" placeholder="Status"  id='status' name="status" /> -->
              </div>
            </div>
  
            <div class="field-wrap">
             
              <input type="email" required autocomplete="on" placeholder=" Email Address"  id="email" name="email" />
            </div>
  
            <div class="field-wrap">
             
            <input type="password" required autocomplete="off" placeholder="password " id="password" name="password" />
            </div>
  
 <button type="submit" class="button button-block" id='sighUp' name="singnup_submit"/>ENREGISTRE</button>
 <BR></BR>
 <a href="../index.html">connexion</a>
  
          
        </div>
  
        
      
    <!-- <center>

      <div class="col-md-4 form-floating mb-3">
        <input type="email" class="form-control" id="floatingInput" placeholder="name@example.com">
        <label for="floatingInput">Email address</label>
      </div>
      <div class="col-md-4  form-floating">
        <input type="password" class="form-control" id="floatingPassword" placeholder="Password">
        <label for="floatingPassword">Password</label>
      </div>

        
    </center> -->
      
      <!-- <div class="right">
        <span class="loginwith">Sign in with<br/>social network</span>
        
        <button class="social-signin facebook">Log in with facebook</button>
        <button class="social-signin twitter">Log in with Twitter</button>
        <button class="social-signin google">Log in with Google+</button>
      </div>
      <div class="or">OR</div>
    </div> -->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
</body>
<!-- <div id="login-box"> -->



<!-- 
<script type="module">
// Import the functions you need from the SDKs you need
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-app.js";
import { getDatabase, set, ref, update } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-database.js";
import { getAuth, createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-auth.js";
// TODO: Add SDKs for Firebase products that you want to use
// https://firebase.google.com/docs/web/setup#available-libraries

// Your web app's Firebase configuration
const firebaseConfig = {
apiKey: "AIzaSyCTlW9SwEPepKEViMs0LuYWqyt0bZUYbFA",
authDomain: "activite-1820d.firebaseapp.com",
databaseURL: "https://activite-1820d-default-rtdb.firebaseio.com",
projectId: "activite-1820d",
storageBucket: "activite-1820d.appspot.com",
messagingSenderId: "416516314452",
appId: "1:416516314452:web:b600b95d5f7d658786e4c1"
};


// Initialize Firebase
const app = initializeApp(firebaseConfig);
    // Initialize Cloud Firestore and get a reference to the service
    const db = getFirestore(app);

    submitData.addEventListener('click', (e) => {
        let email = document.getElementById('email').value;
        let password = document.getElementById('password').value;
        let status= document.getElementById('status').value;
        let username=document.getElementById('username').value;

        addDoc(collection(db, "users"), {
            
            username:username,
            email: email,
            password: password,
            status:status
        });
        
        alert('inscription reussite');
         document.getElementById('email').value= "";
          document.getElementById('password').value ="";
         document.getElementById('status').value ="";
          document.getElementById('username').value ="";
         

          window.location="index.html"
          
    });






// submitconnexion.addEventListener('click', (e) => {

//     let emaillogin= document.getElementById('emaillogin').value;
//     let passwordlogin=document.getElementById('passwordlogin').value;
//     const q = query(collection(db, "users"), where("email", "==", emaillogin));

        
// let users ;
//         getDocs(q).then(docSnap => {
//             docSnap.forEach((doc)=> {
//                 users= doc.data();
//             });
//             if (typeof users !== 'undefined') {
//                 if (users.status ==="admin") {
//         document.getElementById('emaillogin').value ="";
//         document.getElementById('passwordlogin').value="";
//          window.location="./admin.html"
    
       
//       }else if (users.status ==="utilisateur") {
//         document.getElementById('emaillogin').value ="";
//         document.getElementById('passwordlogin').value="";
//         window.location="./guest.html"
    
//       }else{
//       alert('don\'t exist')
//       }
//             }else{
//                 alert('désolé vous ne figurez pas ici veuillez vous inscrire svp')
//             }
//             // console.log("Document data:", users[0]['email']);
//             console.log( users.status);
//         });
//     });





</script> -->
</html>


<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.17.2/firebase-app.js";
  import { getFirestore , setDoc ,addDoc,doc,collection } from "https://www.gstatic.com/firebasejs/9.17.2/firebase-firestore.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyDXdPAeUx3ajvFTdZD4S6Hre8Ecsp-S4l8",
    authDomain: "firestorelogin-bf279.firebaseapp.com",
    projectId: "firestorelogin-bf279",
    storageBucket: "firestorelogin-bf279.appspot.com",
    messagingSenderId: "1010327121270",
    appId: "1:1010327121270:web:7a4402058bc726fb8ede57"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  // Initialize Cloud Firestore and get a reference to the service
  const db = getFirestore(app);


  sighUp.addEventListener('click', (e) =>{

       let email = document.getElementById('email').value;
        let password = document.getElementById('password').value;
        let status= document.getElementById('status').value;
        let username=document.getElementById('username').value;
        

       
    
addDoc(collection(db, "users"), {
  
           username:username,
           status:status,
            email: email,
            password: password
            
});
// window.location="login.html"


alert('user cree');
          document.getElementById('email').value= "";
          document.getElementById('password').value ="";
          document.getElementById('status').value ="";
          document.getElementById('username').value ="";
        
        
        

        
  });
</script>